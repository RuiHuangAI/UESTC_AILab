<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UESTC AI社 — 官方站点（静态单文件）</title>
  <meta name="description" content="UESTC AI社：活动、成员、合作与发表" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Tailwind（CDN 版，便于只改 HTML） -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] } } } };
  </script>
  <!-- Lucide 图标（原 Feather），用 <i data-lucide="calendar"></i> 调用 -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    html, body { height: 100%; }
    /* 轻薄阴影和圆角一致化 */
    .card { border-radius: 1rem; border: 1px solid rgb(229, 231, 235); box-shadow: 0 1px 2px rgba(0,0,0,0.04);} 
  </style>
</head>
<body class="antialiased text-gray-800 bg-gradient-to-b from-gray-50 to-white min-h-screen">
  <!-- header -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="logos/AILab.png" alt="AI Lab Logo" class="h-9 w-9 rounded-2xl object-cover" />
        <div class="leading-tight">
          <div class="font-semibold" id="club-name-zh">UESTC AI社</div>
          <div class="text-xs text-gray-500" id="club-name-en">UESTC AI Club</div>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-6" aria-label="主导航">
        <button data-nav="home" class="nav-link text-gray-600 hover:text-black">主页</button>
        <button data-nav="events" class="nav-link text-gray-600 hover:text-black">活动·新闻</button>
        <button data-nav="members" class="nav-link text-gray-600 hover:text-black">成员</button>
        <button data-nav="partners" class="nav-link text-gray-600 hover:text-black">合作伙伴</button>
        <button data-nav="pubs" class="nav-link text-gray-600 hover:text-black">发表</button>
        <button data-nav="contact" class="nav-link text-gray-600 hover:text-black">联系我们</button>
      </nav>
      <a id="cta-primary" href="#/contact" class="inline-flex items-center rounded-xl border px-3 py-2 text-sm font-medium hover:bg-gray-50">加入社团</a>
    </div>
  </header>

  <!-- main app container -->
  <main id="app" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16"></main>

  <!-- footer -->
  <footer class="border-t">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-sm text-gray-500 flex flex-col md:flex-row items-center justify-between gap-4">
      <p>© <span id="year"></span> <span id="club-name-zh-foot">UESTC AI社</span></p>
      <div class="flex gap-4">
        <a href="#/home" class="hover:text-gray-700">主页</a>
        <a href="#/events" class="hover:text-gray-700">活动</a>
        <a href="#/members" class="hover:text-gray-700">成员</a>
        <a href="#/partners" class="hover:text-gray-700">合作</a>
        <a href="#/pubs" class="hover:text-gray-700">发表</a>
        <a href="#/contact" class="hover:text-gray-700">联系</a>
      </div>
    </div>
  </footer>

  <!-- ====== 数据区（你只需改这里的 JSON 就能更新站点） ====== -->
  <script id="site-data" type="application/json">
  {
    "club": {
      "nameZh": "UESTC AI社",
      "nameEn": "UESTC AI Club",
      "slogan": "连接校园与前沿 AI 的桥梁",
      "brief": "我们在电子科技大学发起，定期举办讲座、Workshop、竞赛、Talk 与 Reading Group，分享最新的 AI 进展与工程实践。"
    },
    "ctas": { "primaryText": "加入社团", "primaryHref": "#/contact", "secondaryText": "了解活动", "secondaryHref": "#/events" },
    "events": [
      { "id": "e1",  "date": "2025-09-20", "title": "秋季开学技术沙龙：从 Agent 到 RAG 的工程落地", "type": "event", "tags": ["沙龙","工程实践"], "location": "清水河校区 创业基地A区", "link": "#", "cover": "https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=1600&auto=format&fit=crop", "desc": "面向新学期的技术交流，覆盖 RAG、函数调用、评测与部署。" },
      { "id": "e2",  "date": "2025-07-12", "title": "竞赛战报：多模态检索队 省赛一等奖", "type": "news",  "tags": ["获奖","多模态"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=1600&auto=format&fit=crop", "desc": "社团队伍在省赛中获得一等奖，开源代码与报告同步发布。" },
      { "id": "e3",  "date": "2025-05-28", "title": "特邀 Talk：大模型安全与对齐", "type": "talk", "tags": ["安全","对齐"], "location": "沙河校区 科学馆报告厅", "link": "#", "cover": "https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1600&auto=format&fit=crop", "desc": "邀请产业与学界嘉宾分享 RLHF、红队测试与评测体系。" },
      { "id": "e4",  "date": "2025-04-10", "title": "校内编程马拉松：Agent for Campus", "type": "competition", "tags": ["Hackathon","Agent"], "location": "清水河 创新中心", "link": "#", "cover": "https://images.unsplash.com/photo-1531297484001-80022131f5a1?q=80&w=1600&auto=format&fit=crop", "desc": "48 小时构建面向校园生活的智能体应用。" },
      { "id": "e5",  "date": "2025-08-01", "title": "与阿里云共建校企联合实践基地", "type": "news", "tags": ["合作","阿里云"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1556761175-b413da4baf72?q=80&w=1600&auto=format&fit=crop", "desc": "签署合作备忘录，联合举办云上 AI 工程训练营。" },
      { "id": "e6",  "date": "2025-06-15", "title": "百度 Paddle 课程进校园：第一期结营", "type": "news", "tags": ["课程","百度"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1581093588401-16ec8a3cc2d9?q=80&w=1600&auto=format&fit=crop", "desc": "与 Paddle 团队共开深度学习实战课，学员项目路演圆满结束。" },
      { "id": "e7",  "date": "2025-03-20", "title": "Talk 回顾：多模态检索在工业界的落地", "type": "news", "tags": ["回顾","多模态"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1600&auto=format&fit=crop", "desc": "分享检索召回、特征对齐与端到端评测体系。" },
      { "id": "e8",  "date": "2024-12-10", "title": "网站上线：统一活动、成员与论文入口", "type": "news", "tags": ["站点","上线"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1600&auto=format&fit=crop", "desc": "首版官网发布，欢迎反馈与共建。" },
      { "id": "e9",  "date": "2025-02-01", "title": "寒假科研营启动：LLM 系统工程", "type": "news", "tags": ["科研营","LLM"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1529336953121-adb2b81f2d2d?q=80&w=1600&auto=format&fit=crop", "desc": "覆盖数据治理、对齐与推理评测。" },
      { "id": "e10", "date": "2025-07-25", "title": "嘉宾 Talk 预告：AI for Science 与材料发现", "type": "news", "tags": ["预告","AI4Science"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=1600&auto=format&fit=crop", "desc": "与深势科技等合作伙伴共同举办。" }
    ],
    "members": {
      "founders": [
        { "name": "黄洁", "role": "联合创始人", "avatar": "photos/JieHuang.jpg", "homepage": "https://example.com/~zhangsan" },
        { "name": "黄锐", "role": "联合创始人", "avatar": "photos/RuiHuang.jpeg", "homepage": "https://example.com/~lisi" }
      ],
      "core": [
        { "name": "王五", "role": "社团主席",   "avatar": "https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=480&auto=format&fit=crop", "homepage": "" },
        { "name": "赵六", "role": "活动负责人", "avatar": "https://images.unsplash.com/photo-1544717305-996b815c338c?q=80&w=480&auto=format&fit=crop", "homepage": "" },
        { "name": "钱七", "role": "外联负责人", "avatar": "https://images.unsplash.com/photo-1541101767792-f9b2b1c4f127?q=80&w=480&auto=format&fit=crop", "homepage": "" },
        { "name": "孙八", "role": "技术负责人", "avatar": "https://images.unsplash.com/photo-1541534401786-2077eed87a52?q=80&w=480&auto=format&fit=crop", "homepage": "" }
      ]
    },
    "partners": [
      { "name": "百度", "url": "https://www.baidu.com" },
      { "name": "腾讯", "url": "https://www.tencent.com" },
      { "name": "阿里巴巴", "url": "https://www.alibabagroup.com" },
      { "name": "深势科技 (DP Technology)", "url": "https://www.dp.tech" }
    ],
    "publications": [
      { "title": "Efficient Retrieval-Augmented Agents for Campus Services", "authors": ["Zhang S.","Li S.","Wang W.","Zhao L."], "venue": "NeurIPS", "year": 2024, "link": "#", "tags": ["Agent","RAG","Systems"] },
      { "title": "Robust Multimodal Retrieval with Structured Prompts", "authors": ["Qian Q.","Sun B.","Li S.","Zhang S."], "venue": "ICLR", "year": 2025, "link": "#", "tags": ["Multimodal","Retrieval"] },
      { "title": "Safe Fine-tuning for Domain LLMs", "authors": ["Li S.","Zhang S."], "venue": "ACL", "year": 2023, "link": "#", "tags": ["Safety","NLP"] }
    ],
    "contact": { "email": "uestc.ai.club@example.com", "location": "电子科技大学 · 清水河校区", "mapLink": "https://maps.google.com", "wechat": "602142028" }
  }
  </script>

  <!-- ====== 行为脚本（渲染 + 路由 + 简易测试） ====== -->
  <script>
    // —— 工具函数 ——
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const fmtDate = (iso) => { const d=new Date(iso); if(Number.isNaN(d.getTime())) return iso; const y=d.getFullYear(); const m=String(d.getMonth()+1).padStart(2,'0'); const day=String(d.getDate()).padStart(2,'0'); return `${y}-${m}-${day}`; };
    const parseHashRoute = (hash) => { const s=(hash||'').replace(/^#\/?/, ''); const key=s.split('/')[0]; return ['home','events','members','partners','pubs','contact'].includes(key)? key: 'home'; };
    const iconify = () => { if (window.lucide) lucide.createIcons(); };

    // —— 读取数据 ——
    const DATA = JSON.parse(document.getElementById('site-data').textContent);

    // Header 基本信息
    document.getElementById('club-name-zh').textContent = DATA.club.nameZh;
    document.getElementById('club-name-en').textContent = DATA.club.nameEn;
    document.getElementById('club-name-zh-foot').textContent = DATA.club.nameZh;
    document.getElementById('cta-primary').textContent = DATA.ctas.primaryText;
    document.getElementById('cta-primary').href = DATA.ctas.primaryHref;
    document.getElementById('year').textContent = new Date().getFullYear();

    // —— 渲染函数们 ——
    function renderHome(state){
      state.homeCount ??= 6; // 每次 +6
      const sorted = [...DATA.events].sort((a,b)=> new Date(b.date)-new Date(a.date));
      const visible = sorted.slice(0, state.homeCount);
      const canMore = state.homeCount < sorted.length;

      return `
        <section class="py-4 md:py-20">
          <div class="grid lg:grid-cols-2 gap-10 items-center">
            <div>
              <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">${DATA.club.nameZh}
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-600">${DATA.club.slogan}</span>
              </h1>
              <p class="mt-5 text-lg text-gray-600">${DATA.club.brief}</p>
              <div class="mt-8 flex gap-3">
                <a href="#/contact" class="rounded-xl bg-blue-600 text-white px-5 py-3 font-semibold hover:bg-blue-700">${DATA.ctas.primaryText}</a>
                <a href="${DATA.ctas.secondaryHref}" class="rounded-xl border px-5 py-3 font-semibold hover:bg-gray-50">${DATA.ctas.secondaryText}</a>
              </div>
              <p class="mt-3 text-sm text-gray-500">开放、共享、连接产学研。</p>
              <div class="grid grid-cols-3 gap-4 mt-8">
                ${[
                  {k:'> 800', v:'成员'},
                  {k:'30+', v:'年度活动'},
                  {k:'10+', v:'企业与实验室合作'},
                ].map(s=> `
                  <div class="card bg-white p-5 text-center">
                    <div class="text-2xl font-bold">${s.k}</div>
                    <div class="text-xs text-gray-500 mt-1">${s.v}</div>
                  </div>
                `).join('')}
              </div>
            </div>
            <div class="relative">
              <div class="aspect-[4/4] rounded-2xl border shadow-sm overflow-hidden bg-white">
                <img src="logos/AILab.png" alt="AI Lab Banner" class="h-full w-full object-cover" loading="lazy" />
              </div>
            </div>
          </div>
        </section>
        <section class="pb-8">
          <div class="flex items-center gap-2 mb-4"><i data-lucide="megaphone" class="w-5 h-5"></i><h2 class="text-xl md:text-2xl font-bold">最新动态</h2></div>
          <div class="space-y-4" id="home-feed">
            ${visible.map(n=> `
              <a href="${n.link||'#'}" class="group block card bg-white overflow-hidden hover:shadow transition">
                <div class="grid md:grid-cols-[260px_1fr]">
                  <div class="aspect-[16/9] md:aspect-auto md:h-full"><img src="${n.cover || 'https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1600&auto=format&fit=crop'}" alt="${n.title} 配图" class="h-full w-full object-cover" loading="lazy"/></div>
                  <div class="p-4 md:p-5">
                    <div class="flex items-center gap-2 text-xs text-gray-500"><i data-lucide="calendar" class="w-4 h-4"></i> ${fmtDate(n.date)}<span class="inline-flex items-center rounded-full border px-2 py-0.5 text-gray-600">${n.type}</span></div>
                    <h3 class="mt-1 text-base md:text-lg font-semibold group-hover:underline">${n.title}</h3>
                    ${n.desc? `<p class=\"mt-2 text-sm text-gray-600\">${n.desc}</p>`: ''}
                    <div class="mt-3 flex gap-2 flex-wrap">${(n.tags||[]).map(t=> `<span class="text-xs rounded-full bg-gray-100 px-2 py-0.5">${t}</span>`).join('')}</div>
                  </div>
                </div>
              </a>
            `).join('')}
          </div>
          ${canMore? `<div class="text-center mt-2"><button id="load-more" class="rounded-xl border px-4 py-2 hover:bg-gray-50">加载更多</button></div>`:''}
          <div id="feed-sentinel" class="h-10"></div>
        </section>
      `;
    }

    function renderEvents(state){
      state.eventsFilter ??= 'all';
      const tabs=[['all','全部'],['event','活动'],['talk','Talk'],['competition','竞赛'],['news','新闻']];
      const items = DATA.events.filter(e=> state.eventsFilter==='all'? true: e.type===state.eventsFilter);
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="megaphone" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">活动 · 新闻</h2></div>
          <div class="flex flex-wrap gap-2 mb-6">
            ${tabs.map(([k,label])=> `<button data-tab="${k}" class="tab-btn rounded-xl px-3 py-1.5 text-sm border ${state.eventsFilter===k? 'bg-blue-600 text-white border-blue-600':'bg-white hover:bg-gray-50'}">${label}</button>`).join('')}
          </div>
          <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            ${items.map(e=> `
              <article class="card bg-white p-5 h-full flex flex-col">
                <div class="flex items-center justify-between">
                  <span class="inline-flex items-center gap-2 text-xs text-gray-500"><i data-lucide="calendar" class="w-4 h-4"></i> ${fmtDate(e.date)}</span>
                  <span class="inline-flex items-center text-xs rounded-full border px-2 py-0.5 text-gray-600">${e.type}</span>
                </div>
                <h3 class="mt-3 text-lg font-semibold">${e.title}</h3>
                ${e.location? `<p class=\"mt-1 text-sm text-gray-500 inline-flex items-center gap-1\"><i data-lucide=\"map-pin\" class=\"w-4 h-4\"></i> ${e.location}</p>`:''}
                <p class="mt-3 text-sm text-gray-600 flex-1">${e.desc||''}</p>
                <div class="mt-4 flex items-center justify-between">
                  <div class="flex gap-2 flex-wrap">${(e.tags||[]).map(t=> `<span class="text-xs rounded-full bg-gray-100 px-2 py-0.5">${t}</span>`).join('')}</div>
                  <a href="${e.link}" class="text-sm inline-flex items-center gap-1 text-blue-600 hover:underline">了解更多 <i data-lucide="external-link" class="w-4 h-4"></i></a>
                </div>
              </article>
            `).join('')}
          </div>
        </section>
      `;
    }

    function renderMembers(state){
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="users" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">核心成员</h2></div>
          <h3 class="text-lg font-semibold">创始人</h3>
          <p class="text-sm text-gray-500 mb-4">Founders</p>
          <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
            ${DATA.members.founders.map(m=> memberCard(m)).join('')}
          </div>
          <div class="flex items-end justify-between mb-3 gap-4">
            <div><h3 class="text-lg font-semibold">核心管理成员</h3><p class="text-sm text-gray-500">Core Management</p></div>
            <div class="flex-1 max-w-xs"><label for="member-search" class="sr-only">搜索成员</label><input id="member-search" placeholder="按名字/角色搜索" class="w-full rounded-xl border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" /></div>
          </div>
          <div id="core-list" class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
            ${DATA.members.core.map(m=> memberCard(m)).join('')}
          </div>
        </section>
      `;
    }
    function memberCard(m){
      return `
        <div class="card bg-white p-4">
          <div class="aspect-square rounded-xl overflow-hidden bg-gray-100"><img src="${m.avatar}" alt="${m.name} 的照片" class="h-full w-full object-cover" loading="lazy" /></div>
          <div class="mt-3">
            <div class="font-semibold">${m.name}</div>
            <div class="text-sm text-gray-500">${m.role}</div>
            ${m.homepage? `<a href="${m.homepage}" class="mt-2 inline-flex items-center gap-1 text-sm text-blue-600 hover:underline">个人主页 <i data-lucide="globe" class="w-4 h-4"></i></a>`: ''}
          </div>
        </div>
      `;
    }

    function renderPartners(){
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="handshake" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">合作伙伴</h2></div>
          <p class="text-gray-600 mb-6">我们与企业、科研机构与开源社区保持长期合作，共同推进人才培养与产学研协同。</p>
          <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
            ${DATA.partners.map(p=> `
              <a href="${p.url || '#'}" class="card bg-white p-6 hover:shadow transition" title="${p.url? `访问 ${p.name}`:''}">
                <div class="text-center font-medium">${p.name}</div>
              </a>
            `).join('')}
          </div>
          <div class="mt-8 text-sm text-gray-500">* 如需展示对方 Logo，请确认品牌使用规范与授权。</div>
        </section>
      `;
    }

    function renderPubs(state){
      const venues = Array.from(new Set(DATA.publications.map(p=> p.venue)));
      state.pubVenue ??= '全部';
      const list = DATA.publications.filter(p=> state.pubVenue==='全部' ? true : p.venue===state.pubVenue);
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="book-open-text" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">发表（示例）</h2></div>
          <div class="flex flex-wrap gap-2 mb-6">
            <button data-venue="全部" class="venue-btn rounded-xl px-3 py-1.5 text-sm border ${state.pubVenue==='全部'?'bg-blue-600 text-white border-blue-600':'bg-white hover:bg-gray-50'}">全部</button>
            ${venues.map(v=> `<button data-venue="${v}" class="venue-btn rounded-xl px-3 py-1.5 text-sm border ${state.pubVenue===v?'bg-blue-600 text-white border-blue-600':'bg-white hover:bg-gray-50'}">${v}</button>`).join('')}
          </div>
          <ol class="space-y-4">
            ${list.sort((a,b)=> b.year-a.year).map(p=> `
              <li class="card bg-white p-5">
                <div class="flex flex-wrap items-baseline gap-2"><span class="text-sm inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5">${p.venue}</span><span class="text-sm text-gray-500">${p.year}</span></div>
                <h3 class="mt-1 font-semibold text-lg">${p.title}</h3>
                <p class="text-sm text-gray-600 mt-1">${p.authors.join(', ')}</p>
                <div class="mt-3 flex items-center justify-between">
                  <div class="flex gap-2 flex-wrap">${(p.tags||[]).map(t=> `<span class="text-xs rounded-full bg-gray-100 px-2 py-0.5">${t}</span>`).join('')}</div>
                  <a href="${p.link}" class="text-sm inline-flex items-center gap-1 text-blue-600 hover:underline">PDF/项目 <i data-lucide="external-link" class="w-4 h-4"></i></a>
                </div>
              </li>
            `).join('')}
          </ol>
          <p class="text-xs text-gray-500 mt-4">上方为展示用占位条目；请替换为真实论文、项目与海报链接。</p>
        </section>
      `;
    }

    function renderContact(){
      const c = DATA.contact;
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="mail" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">Contact Us</h2></div>
          <div class="grid md:grid-cols-[1.3fr_1fr] gap-6">
            <div class="card bg-white p-6">
              <h3 class="font-semibold">联系方式</h3>
              <ul class="mt-3 space-y-2 text-gray-700">
                <li class="flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4"></i>${c.location}</li>
                <li class="flex items-center gap-2"><i data-lucide="users" class="w-4 h-4"></i>QQ群 : ${c.wechat}</li>
                <li class="flex items-center gap-2">
                  <i data-lucide="mail" class="w-4 h-4"></i>
                  <a class="hover:underline" href="mailto:jayhuang@std.uestc.edu.cn">jayhuang@std.uestc.edu.cn</a>
                </li>
                <li class="pl-6">
                  <a class="hover:underline" href="mailto:huang_rui@std.uestc.edu.cn">huang_rui@std.uestc.edu.cn</a>
                </li>
              </ul>
              <p class="mt-6 text-black text-base">
                <span class="font-bold text-red-600">我们期待与你联系或你的加入</span>，欢迎——<br/>
                💡 对AI感兴趣、希望入门学习的低年级同学<br/>
                🧑‍💻 希望讨论交流的AI研究者<br/>
                🎓 有志于加入AI社核心团队的同学<br/>
                🏆 希望与我们一起在顶尖会议上发表论文的伙伴<br/>
                🤝 有意交流合作的企业、组织<br/>
                🤗 以及所有热爱AI的朋友与潜在的合作机会!
              </p>
            </div>
            <div class="card bg-white p-0 overflow-hidden min-h-[430px] grid place-content-center"><img src="logos/QQGroup.png" alt="QQ群二维码" class="w-full max-w-xs max-h-[920px]" /></div>
          </div>
        </section>
      `;
    }

    // —— 路由与渲染入口 ——
    const state = {}; // 持久化一些 UI 状态
    function render(){
      const route = parseHashRoute(location.hash);
      const app = document.getElementById('app');
      // 高亮导航
      $$('.nav-link').forEach(btn=> btn.classList.toggle('text-black', btn.dataset.nav===route));

      if(route==='home') app.innerHTML = renderHome(state);
      if(route==='events') app.innerHTML = renderEvents(state);
      if(route==='members') app.innerHTML = renderMembers(state);
      if(route==='partners') app.innerHTML = renderPartners(state);
      if(route==='pubs') app.innerHTML = renderPubs(state);
      if(route==='contact') app.innerHTML = renderContact(state);

      // 行为绑定
      if(route==='home'){
        const sentinel = document.getElementById('feed-sentinel');
        const loadMore = document.getElementById('load-more');
        if(loadMore){ loadMore.onclick = ()=> { state.homeCount = Math.min((state.homeCount||6)+6, DATA.events.length); render(); } }
        if(sentinel){ const ob = new IntersectionObserver((entries)=>{ entries.forEach(en=>{ if(en.isIntersecting){ state.homeCount = Math.min((state.homeCount||6)+6, DATA.events.length); render(); } }); }, { rootMargin:'200px' }); ob.observe(sentinel); }
      }
      if(route==='events'){
        $$('#app .tab-btn').forEach(b=> b.onclick = ()=> { state.eventsFilter = b.dataset.tab; render(); });
      }
      if(route==='members'){
        const input = document.getElementById('member-search');
        if(input){ input.oninput = ()=>{
          const kw = input.value.trim().toLowerCase();
          const list = document.getElementById('core-list');
          const items = DATA.members.core.filter(m=> m.name.toLowerCase().includes(kw) || m.role.toLowerCase().includes(kw));
          list.innerHTML = items.map(m=> memberCard(m)).join('');
          iconify();
        } }
      }
      if(route==='pubs'){
        $$('#app .venue-btn').forEach(b=> b.onclick = ()=> { state.pubVenue = b.dataset.venue; render(); });
      }

      // 渲染完替换图标
      iconify();
    }

    // 顶部导航点击（hash 跳转）
    $$('.nav-link').forEach(btn=> btn.addEventListener('click', ()=> { location.hash = `/${btn.dataset.nav}`; }));
    window.addEventListener('hashchange', render);

    // 初始渲染
    if(!location.hash) location.hash = '/home';
    render();

    // —— 简易测试用例（console.assert） ——
    (function runTests(){
      try {
        console.assert(parseHashRoute('') === 'home', '空 hash 应回到 home');
        console.assert(parseHashRoute('#/events') === 'events', 'hash 解析 events 失败');
        console.assert(parseHashRoute('#/unknown') === 'home', '未知路由应回退到 home');
        console.assert(Array.isArray(DATA.events) && DATA.events.length > 0, 'events 不应为空');
        // 按日期排序验证
        const s = [...DATA.events].sort((a,b)=> new Date(b.date)-new Date(a.date));
        for(let i=1;i<s.length;i++){ console.assert(new Date(s[i-1].date) >= new Date(s[i].date), 'events 未按时间降序'); }
        // news 必须有封面
        DATA.events.forEach(e=> { if(e.type==='news') console.assert(!!e.cover, `News 缺少 cover: ${e.title}`); });
        // id 唯一
        const ids = new Set();
        for(const e of DATA.events){ console.assert(!ids.has(e.id), `重复的事件 id: ${e.id}`); ids.add(e.id); }
        // 类型合法
        const okTypes = new Set(['news','event','talk','competition']);
        DATA.events.forEach(e=> console.assert(okTypes.has(e.type), `非法事件类型: ${e.type}`));
        // 成员字段
        DATA.members.founders.forEach(m=> { console.assert(!!m.name && !!m.role, '创始人条目缺少 name/role'); console.assert(/^https?:\/\//.test(m.avatar), `创始人头像应为 URL: ${m.name}`); });
        // 发表年份整数
        DATA.publications.forEach(p=> console.assert(Number.isInteger(p.year), `发表年份应为整数: ${p.title}`));
        console.log('✅ 自测通过');
      } catch(err){ console.error('❌ 自测出错', err); }
    })();
  </script>
</body>
</html>
