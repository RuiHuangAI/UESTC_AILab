<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UESTC AIç¤¾ â€” å®˜æ–¹ç«™ç‚¹ï¼ˆé™æ€å•æ–‡ä»¶ï¼‰</title>
  <meta name="description" content="UESTC AIç¤¾ï¼šæ´»åŠ¨ã€æˆå‘˜ã€åˆä½œä¸å‘è¡¨" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Tailwindï¼ˆCDN ç‰ˆï¼Œä¾¿äºåªæ”¹ HTMLï¼‰ -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] } } } };
  </script>
  <!-- Lucide å›¾æ ‡ï¼ˆåŸ Featherï¼‰ï¼Œç”¨ <i data-lucide="calendar"></i> è°ƒç”¨ -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    html, body { height: 100%; }
    /* è½»è–„é˜´å½±å’Œåœ†è§’ä¸€è‡´åŒ– */
    .card { border-radius: 1rem; border: 1px solid rgb(229, 231, 235); box-shadow: 0 1px 2px rgba(0,0,0,0.04);} 
  </style>
</head>
<body class="antialiased text-gray-800 bg-gradient-to-b from-gray-50 to-white min-h-screen">
  <!-- header -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="logos/AILab.png" alt="AI Lab Logo" class="h-9 w-9 rounded-2xl object-cover" />
        <div class="leading-tight">
          <div class="font-semibold" id="club-name-zh">UESTC AIç¤¾</div>
          <div class="text-xs text-gray-500" id="club-name-en">UESTC AI Club</div>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-6" aria-label="ä¸»å¯¼èˆª">
        <button data-nav="home" class="nav-link text-gray-600 hover:text-black">ä¸»é¡µ</button>
        <button data-nav="events" class="nav-link text-gray-600 hover:text-black">æ´»åŠ¨Â·æ–°é—»</button>
        <button data-nav="members" class="nav-link text-gray-600 hover:text-black">æˆå‘˜</button>
        <button data-nav="partners" class="nav-link text-gray-600 hover:text-black">åˆä½œä¼™ä¼´</button>
        <button data-nav="pubs" class="nav-link text-gray-600 hover:text-black">å‘è¡¨</button>
        <button data-nav="contact" class="nav-link text-gray-600 hover:text-black">è”ç³»æˆ‘ä»¬</button>
      </nav>
      <a id="cta-primary" href="#/contact" class="inline-flex items-center rounded-xl border px-3 py-2 text-sm font-medium hover:bg-gray-50">åŠ å…¥ç¤¾å›¢</a>
    </div>
  </header>

  <!-- main app container -->
  <main id="app" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16"></main>

  <!-- footer -->
  <footer class="border-t">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-sm text-gray-500 flex flex-col md:flex-row items-center justify-between gap-4">
      <p>Â© <span id="year"></span> <span id="club-name-zh-foot">UESTC AIç¤¾</span></p>
      <div class="flex gap-4">
        <a href="#/home" class="hover:text-gray-700">ä¸»é¡µ</a>
        <a href="#/events" class="hover:text-gray-700">æ´»åŠ¨</a>
        <a href="#/members" class="hover:text-gray-700">æˆå‘˜</a>
        <a href="#/partners" class="hover:text-gray-700">åˆä½œ</a>
        <a href="#/pubs" class="hover:text-gray-700">å‘è¡¨</a>
        <a href="#/contact" class="hover:text-gray-700">è”ç³»</a>
      </div>
    </div>
  </footer>

  <!-- ====== æ•°æ®åŒºï¼ˆä½ åªéœ€æ”¹è¿™é‡Œçš„ JSON å°±èƒ½æ›´æ–°ç«™ç‚¹ï¼‰ ====== -->
  <script id="site-data" type="application/json">
  {
    "club": {
      "nameZh": "UESTC AIç¤¾",
      "nameEn": "UESTC AI Club",
      "slogan": "è¿æ¥æ ¡å›­ä¸å‰æ²¿ AI çš„æ¡¥æ¢",
      "brief": "æˆ‘ä»¬åœ¨ç”µå­ç§‘æŠ€å¤§å­¦å‘èµ·ï¼Œå®šæœŸä¸¾åŠè®²åº§ã€Workshopã€ç«èµ›ã€Talk ä¸ Reading Groupï¼Œåˆ†äº«æœ€æ–°çš„ AI è¿›å±•ä¸å·¥ç¨‹å®è·µã€‚"
    },
    "ctas": { "primaryText": "åŠ å…¥ç¤¾å›¢", "primaryHref": "#/contact", "secondaryText": "äº†è§£æ´»åŠ¨", "secondaryHref": "#/events" },
    "events": [
      { "id": "e1",  "date": "2025-09-20", "title": "ç§‹å­£å¼€å­¦æŠ€æœ¯æ²™é¾™ï¼šä» Agent åˆ° RAG çš„å·¥ç¨‹è½åœ°", "type": "event", "tags": ["æ²™é¾™","å·¥ç¨‹å®è·µ"], "location": "æ¸…æ°´æ²³æ ¡åŒº åˆ›ä¸šåŸºåœ°AåŒº", "link": "#", "cover": "https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=1600&auto=format&fit=crop", "desc": "é¢å‘æ–°å­¦æœŸçš„æŠ€æœ¯äº¤æµï¼Œè¦†ç›– RAGã€å‡½æ•°è°ƒç”¨ã€è¯„æµ‹ä¸éƒ¨ç½²ã€‚" },
      { "id": "e2",  "date": "2025-07-12", "title": "ç«èµ›æˆ˜æŠ¥ï¼šå¤šæ¨¡æ€æ£€ç´¢é˜Ÿ çœèµ›ä¸€ç­‰å¥–", "type": "news",  "tags": ["è·å¥–","å¤šæ¨¡æ€"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=1600&auto=format&fit=crop", "desc": "ç¤¾å›¢é˜Ÿä¼åœ¨çœèµ›ä¸­è·å¾—ä¸€ç­‰å¥–ï¼Œå¼€æºä»£ç ä¸æŠ¥å‘ŠåŒæ­¥å‘å¸ƒã€‚" },
      { "id": "e3",  "date": "2025-05-28", "title": "ç‰¹é‚€ Talkï¼šå¤§æ¨¡å‹å®‰å…¨ä¸å¯¹é½", "type": "talk", "tags": ["å®‰å…¨","å¯¹é½"], "location": "æ²™æ²³æ ¡åŒº ç§‘å­¦é¦†æŠ¥å‘Šå…", "link": "#", "cover": "https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1600&auto=format&fit=crop", "desc": "é‚€è¯·äº§ä¸šä¸å­¦ç•Œå˜‰å®¾åˆ†äº« RLHFã€çº¢é˜Ÿæµ‹è¯•ä¸è¯„æµ‹ä½“ç³»ã€‚" },
      { "id": "e4",  "date": "2025-04-10", "title": "æ ¡å†…ç¼–ç¨‹é©¬æ‹‰æ¾ï¼šAgent for Campus", "type": "competition", "tags": ["Hackathon","Agent"], "location": "æ¸…æ°´æ²³ åˆ›æ–°ä¸­å¿ƒ", "link": "#", "cover": "https://images.unsplash.com/photo-1531297484001-80022131f5a1?q=80&w=1600&auto=format&fit=crop", "desc": "48 å°æ—¶æ„å»ºé¢å‘æ ¡å›­ç”Ÿæ´»çš„æ™ºèƒ½ä½“åº”ç”¨ã€‚" },
      { "id": "e5",  "date": "2025-08-01", "title": "ä¸é˜¿é‡Œäº‘å…±å»ºæ ¡ä¼è”åˆå®è·µåŸºåœ°", "type": "news", "tags": ["åˆä½œ","é˜¿é‡Œäº‘"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1556761175-b413da4baf72?q=80&w=1600&auto=format&fit=crop", "desc": "ç­¾ç½²åˆä½œå¤‡å¿˜å½•ï¼Œè”åˆä¸¾åŠäº‘ä¸Š AI å·¥ç¨‹è®­ç»ƒè¥ã€‚" },
      { "id": "e6",  "date": "2025-06-15", "title": "ç™¾åº¦ Paddle è¯¾ç¨‹è¿›æ ¡å›­ï¼šç¬¬ä¸€æœŸç»“è¥", "type": "news", "tags": ["è¯¾ç¨‹","ç™¾åº¦"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1581093588401-16ec8a3cc2d9?q=80&w=1600&auto=format&fit=crop", "desc": "ä¸ Paddle å›¢é˜Ÿå…±å¼€æ·±åº¦å­¦ä¹ å®æˆ˜è¯¾ï¼Œå­¦å‘˜é¡¹ç›®è·¯æ¼”åœ†æ»¡ç»“æŸã€‚" },
      { "id": "e7",  "date": "2025-03-20", "title": "Talk å›é¡¾ï¼šå¤šæ¨¡æ€æ£€ç´¢åœ¨å·¥ä¸šç•Œçš„è½åœ°", "type": "news", "tags": ["å›é¡¾","å¤šæ¨¡æ€"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1600&auto=format&fit=crop", "desc": "åˆ†äº«æ£€ç´¢å¬å›ã€ç‰¹å¾å¯¹é½ä¸ç«¯åˆ°ç«¯è¯„æµ‹ä½“ç³»ã€‚" },
      { "id": "e8",  "date": "2024-12-10", "title": "ç½‘ç«™ä¸Šçº¿ï¼šç»Ÿä¸€æ´»åŠ¨ã€æˆå‘˜ä¸è®ºæ–‡å…¥å£", "type": "news", "tags": ["ç«™ç‚¹","ä¸Šçº¿"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1600&auto=format&fit=crop", "desc": "é¦–ç‰ˆå®˜ç½‘å‘å¸ƒï¼Œæ¬¢è¿åé¦ˆä¸å…±å»ºã€‚" },
      { "id": "e9",  "date": "2025-02-01", "title": "å¯’å‡ç§‘ç ”è¥å¯åŠ¨ï¼šLLM ç³»ç»Ÿå·¥ç¨‹", "type": "news", "tags": ["ç§‘ç ”è¥","LLM"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1529336953121-adb2b81f2d2d?q=80&w=1600&auto=format&fit=crop", "desc": "è¦†ç›–æ•°æ®æ²»ç†ã€å¯¹é½ä¸æ¨ç†è¯„æµ‹ã€‚" },
      { "id": "e10", "date": "2025-07-25", "title": "å˜‰å®¾ Talk é¢„å‘Šï¼šAI for Science ä¸ææ–™å‘ç°", "type": "news", "tags": ["é¢„å‘Š","AI4Science"], "location": "", "link": "#", "cover": "https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=1600&auto=format&fit=crop", "desc": "ä¸æ·±åŠ¿ç§‘æŠ€ç­‰åˆä½œä¼™ä¼´å…±åŒä¸¾åŠã€‚" }
    ],
    "members": {
      "founders": [
        { "name": "é»„æ´", "role": "è”åˆåˆ›å§‹äºº", "avatar": "photos/JieHuang.jpg", "homepage": "https://example.com/~zhangsan" },
        { "name": "é»„é”", "role": "è”åˆåˆ›å§‹äºº", "avatar": "photos/RuiHuang.jpeg", "homepage": "https://example.com/~lisi" }
      ],
      "core": [
        { "name": "ç‹äº”", "role": "ç¤¾å›¢ä¸»å¸­",   "avatar": "https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=480&auto=format&fit=crop", "homepage": "" },
        { "name": "èµµå…­", "role": "æ´»åŠ¨è´Ÿè´£äºº", "avatar": "https://images.unsplash.com/photo-1544717305-996b815c338c?q=80&w=480&auto=format&fit=crop", "homepage": "" },
        { "name": "é’±ä¸ƒ", "role": "å¤–è”è´Ÿè´£äºº", "avatar": "https://images.unsplash.com/photo-1541101767792-f9b2b1c4f127?q=80&w=480&auto=format&fit=crop", "homepage": "" },
        { "name": "å­™å…«", "role": "æŠ€æœ¯è´Ÿè´£äºº", "avatar": "https://images.unsplash.com/photo-1541534401786-2077eed87a52?q=80&w=480&auto=format&fit=crop", "homepage": "" }
      ]
    },
    "partners": [
      { "name": "ç™¾åº¦", "url": "https://www.baidu.com" },
      { "name": "è…¾è®¯", "url": "https://www.tencent.com" },
      { "name": "é˜¿é‡Œå·´å·´", "url": "https://www.alibabagroup.com" },
      { "name": "æ·±åŠ¿ç§‘æŠ€ (DP Technology)", "url": "https://www.dp.tech" }
    ],
    "publications": [
      { "title": "Efficient Retrieval-Augmented Agents for Campus Services", "authors": ["Zhang S.","Li S.","Wang W.","Zhao L."], "venue": "NeurIPS", "year": 2024, "link": "#", "tags": ["Agent","RAG","Systems"] },
      { "title": "Robust Multimodal Retrieval with Structured Prompts", "authors": ["Qian Q.","Sun B.","Li S.","Zhang S."], "venue": "ICLR", "year": 2025, "link": "#", "tags": ["Multimodal","Retrieval"] },
      { "title": "Safe Fine-tuning for Domain LLMs", "authors": ["Li S.","Zhang S."], "venue": "ACL", "year": 2023, "link": "#", "tags": ["Safety","NLP"] }
    ],
    "contact": { "email": "uestc.ai.club@example.com", "location": "ç”µå­ç§‘æŠ€å¤§å­¦ Â· æ¸…æ°´æ²³æ ¡åŒº", "mapLink": "https://maps.google.com", "wechat": "602142028" }
  }
  </script>

  <!-- ====== è¡Œä¸ºè„šæœ¬ï¼ˆæ¸²æŸ“ + è·¯ç”± + ç®€æ˜“æµ‹è¯•ï¼‰ ====== -->
  <script>
    // â€”â€” å·¥å…·å‡½æ•° â€”â€”
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const fmtDate = (iso) => { const d=new Date(iso); if(Number.isNaN(d.getTime())) return iso; const y=d.getFullYear(); const m=String(d.getMonth()+1).padStart(2,'0'); const day=String(d.getDate()).padStart(2,'0'); return `${y}-${m}-${day}`; };
    const parseHashRoute = (hash) => { const s=(hash||'').replace(/^#\/?/, ''); const key=s.split('/')[0]; return ['home','events','members','partners','pubs','contact'].includes(key)? key: 'home'; };
    const iconify = () => { if (window.lucide) lucide.createIcons(); };

    // â€”â€” è¯»å–æ•°æ® â€”â€”
    const DATA = JSON.parse(document.getElementById('site-data').textContent);

    // Header åŸºæœ¬ä¿¡æ¯
    document.getElementById('club-name-zh').textContent = DATA.club.nameZh;
    document.getElementById('club-name-en').textContent = DATA.club.nameEn;
    document.getElementById('club-name-zh-foot').textContent = DATA.club.nameZh;
    document.getElementById('cta-primary').textContent = DATA.ctas.primaryText;
    document.getElementById('cta-primary').href = DATA.ctas.primaryHref;
    document.getElementById('year').textContent = new Date().getFullYear();

    // â€”â€” æ¸²æŸ“å‡½æ•°ä»¬ â€”â€”
    function renderHome(state){
      state.homeCount ??= 6; // æ¯æ¬¡ +6
      const sorted = [...DATA.events].sort((a,b)=> new Date(b.date)-new Date(a.date));
      const visible = sorted.slice(0, state.homeCount);
      const canMore = state.homeCount < sorted.length;

      return `
        <section class="py-4 md:py-20">
          <div class="grid lg:grid-cols-2 gap-10 items-center">
            <div>
              <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">${DATA.club.nameZh}
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-600">${DATA.club.slogan}</span>
              </h1>
              <p class="mt-5 text-lg text-gray-600">${DATA.club.brief}</p>
              <div class="mt-8 flex gap-3">
                <a href="#/contact" class="rounded-xl bg-blue-600 text-white px-5 py-3 font-semibold hover:bg-blue-700">${DATA.ctas.primaryText}</a>
                <a href="${DATA.ctas.secondaryHref}" class="rounded-xl border px-5 py-3 font-semibold hover:bg-gray-50">${DATA.ctas.secondaryText}</a>
              </div>
              <p class="mt-3 text-sm text-gray-500">å¼€æ”¾ã€å…±äº«ã€è¿æ¥äº§å­¦ç ”ã€‚</p>
              <div class="grid grid-cols-3 gap-4 mt-8">
                ${[
                  {k:'> 800', v:'æˆå‘˜'},
                  {k:'30+', v:'å¹´åº¦æ´»åŠ¨'},
                  {k:'10+', v:'ä¼ä¸šä¸å®éªŒå®¤åˆä½œ'},
                ].map(s=> `
                  <div class="card bg-white p-5 text-center">
                    <div class="text-2xl font-bold">${s.k}</div>
                    <div class="text-xs text-gray-500 mt-1">${s.v}</div>
                  </div>
                `).join('')}
              </div>
            </div>
            <div class="relative">
              <div class="aspect-[4/4] rounded-2xl border shadow-sm overflow-hidden bg-white">
                <img src="logos/AILab.png" alt="AI Lab Banner" class="h-full w-full object-cover" loading="lazy" />
              </div>
            </div>
          </div>
        </section>
        <section class="pb-8">
          <div class="flex items-center gap-2 mb-4"><i data-lucide="megaphone" class="w-5 h-5"></i><h2 class="text-xl md:text-2xl font-bold">æœ€æ–°åŠ¨æ€</h2></div>
          <div class="space-y-4" id="home-feed">
            ${visible.map(n=> `
              <a href="${n.link||'#'}" class="group block card bg-white overflow-hidden hover:shadow transition">
                <div class="grid md:grid-cols-[260px_1fr]">
                  <div class="aspect-[16/9] md:aspect-auto md:h-full"><img src="${n.cover || 'https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1600&auto=format&fit=crop'}" alt="${n.title} é…å›¾" class="h-full w-full object-cover" loading="lazy"/></div>
                  <div class="p-4 md:p-5">
                    <div class="flex items-center gap-2 text-xs text-gray-500"><i data-lucide="calendar" class="w-4 h-4"></i> ${fmtDate(n.date)}<span class="inline-flex items-center rounded-full border px-2 py-0.5 text-gray-600">${n.type}</span></div>
                    <h3 class="mt-1 text-base md:text-lg font-semibold group-hover:underline">${n.title}</h3>
                    ${n.desc? `<p class=\"mt-2 text-sm text-gray-600\">${n.desc}</p>`: ''}
                    <div class="mt-3 flex gap-2 flex-wrap">${(n.tags||[]).map(t=> `<span class="text-xs rounded-full bg-gray-100 px-2 py-0.5">${t}</span>`).join('')}</div>
                  </div>
                </div>
              </a>
            `).join('')}
          </div>
          ${canMore? `<div class="text-center mt-2"><button id="load-more" class="rounded-xl border px-4 py-2 hover:bg-gray-50">åŠ è½½æ›´å¤š</button></div>`:''}
          <div id="feed-sentinel" class="h-10"></div>
        </section>
      `;
    }

    function renderEvents(state){
      state.eventsFilter ??= 'all';
      const tabs=[['all','å…¨éƒ¨'],['event','æ´»åŠ¨'],['talk','Talk'],['competition','ç«èµ›'],['news','æ–°é—»']];
      const items = DATA.events.filter(e=> state.eventsFilter==='all'? true: e.type===state.eventsFilter);
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="megaphone" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">æ´»åŠ¨ Â· æ–°é—»</h2></div>
          <div class="flex flex-wrap gap-2 mb-6">
            ${tabs.map(([k,label])=> `<button data-tab="${k}" class="tab-btn rounded-xl px-3 py-1.5 text-sm border ${state.eventsFilter===k? 'bg-blue-600 text-white border-blue-600':'bg-white hover:bg-gray-50'}">${label}</button>`).join('')}
          </div>
          <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            ${items.map(e=> `
              <article class="card bg-white p-5 h-full flex flex-col">
                <div class="flex items-center justify-between">
                  <span class="inline-flex items-center gap-2 text-xs text-gray-500"><i data-lucide="calendar" class="w-4 h-4"></i> ${fmtDate(e.date)}</span>
                  <span class="inline-flex items-center text-xs rounded-full border px-2 py-0.5 text-gray-600">${e.type}</span>
                </div>
                <h3 class="mt-3 text-lg font-semibold">${e.title}</h3>
                ${e.location? `<p class=\"mt-1 text-sm text-gray-500 inline-flex items-center gap-1\"><i data-lucide=\"map-pin\" class=\"w-4 h-4\"></i> ${e.location}</p>`:''}
                <p class="mt-3 text-sm text-gray-600 flex-1">${e.desc||''}</p>
                <div class="mt-4 flex items-center justify-between">
                  <div class="flex gap-2 flex-wrap">${(e.tags||[]).map(t=> `<span class="text-xs rounded-full bg-gray-100 px-2 py-0.5">${t}</span>`).join('')}</div>
                  <a href="${e.link}" class="text-sm inline-flex items-center gap-1 text-blue-600 hover:underline">äº†è§£æ›´å¤š <i data-lucide="external-link" class="w-4 h-4"></i></a>
                </div>
              </article>
            `).join('')}
          </div>
        </section>
      `;
    }

    function renderMembers(state){
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="users" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">æ ¸å¿ƒæˆå‘˜</h2></div>
          <h3 class="text-lg font-semibold">åˆ›å§‹äºº</h3>
          <p class="text-sm text-gray-500 mb-4">Founders</p>
          <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
            ${DATA.members.founders.map(m=> memberCard(m)).join('')}
          </div>
          <div class="flex items-end justify-between mb-3 gap-4">
            <div><h3 class="text-lg font-semibold">æ ¸å¿ƒç®¡ç†æˆå‘˜</h3><p class="text-sm text-gray-500">Core Management</p></div>
            <div class="flex-1 max-w-xs"><label for="member-search" class="sr-only">æœç´¢æˆå‘˜</label><input id="member-search" placeholder="æŒ‰åå­—/è§’è‰²æœç´¢" class="w-full rounded-xl border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" /></div>
          </div>
          <div id="core-list" class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
            ${DATA.members.core.map(m=> memberCard(m)).join('')}
          </div>
        </section>
      `;
    }
    function memberCard(m){
      return `
        <div class="card bg-white p-4">
          <div class="aspect-square rounded-xl overflow-hidden bg-gray-100"><img src="${m.avatar}" alt="${m.name} çš„ç…§ç‰‡" class="h-full w-full object-cover" loading="lazy" /></div>
          <div class="mt-3">
            <div class="font-semibold">${m.name}</div>
            <div class="text-sm text-gray-500">${m.role}</div>
            ${m.homepage? `<a href="${m.homepage}" class="mt-2 inline-flex items-center gap-1 text-sm text-blue-600 hover:underline">ä¸ªäººä¸»é¡µ <i data-lucide="globe" class="w-4 h-4"></i></a>`: ''}
          </div>
        </div>
      `;
    }

    function renderPartners(){
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="handshake" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">åˆä½œä¼™ä¼´</h2></div>
          <p class="text-gray-600 mb-6">æˆ‘ä»¬ä¸ä¼ä¸šã€ç§‘ç ”æœºæ„ä¸å¼€æºç¤¾åŒºä¿æŒé•¿æœŸåˆä½œï¼Œå…±åŒæ¨è¿›äººæ‰åŸ¹å…»ä¸äº§å­¦ç ”ååŒã€‚</p>
          <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
            ${DATA.partners.map(p=> `
              <a href="${p.url || '#'}" class="card bg-white p-6 hover:shadow transition" title="${p.url? `è®¿é—® ${p.name}`:''}">
                <div class="text-center font-medium">${p.name}</div>
              </a>
            `).join('')}
          </div>
          <div class="mt-8 text-sm text-gray-500">* å¦‚éœ€å±•ç¤ºå¯¹æ–¹ Logoï¼Œè¯·ç¡®è®¤å“ç‰Œä½¿ç”¨è§„èŒƒä¸æˆæƒã€‚</div>
        </section>
      `;
    }

    function renderPubs(state){
      const venues = Array.from(new Set(DATA.publications.map(p=> p.venue)));
      state.pubVenue ??= 'å…¨éƒ¨';
      const list = DATA.publications.filter(p=> state.pubVenue==='å…¨éƒ¨' ? true : p.venue===state.pubVenue);
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="book-open-text" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">å‘è¡¨ï¼ˆç¤ºä¾‹ï¼‰</h2></div>
          <div class="flex flex-wrap gap-2 mb-6">
            <button data-venue="å…¨éƒ¨" class="venue-btn rounded-xl px-3 py-1.5 text-sm border ${state.pubVenue==='å…¨éƒ¨'?'bg-blue-600 text-white border-blue-600':'bg-white hover:bg-gray-50'}">å…¨éƒ¨</button>
            ${venues.map(v=> `<button data-venue="${v}" class="venue-btn rounded-xl px-3 py-1.5 text-sm border ${state.pubVenue===v?'bg-blue-600 text-white border-blue-600':'bg-white hover:bg-gray-50'}">${v}</button>`).join('')}
          </div>
          <ol class="space-y-4">
            ${list.sort((a,b)=> b.year-a.year).map(p=> `
              <li class="card bg-white p-5">
                <div class="flex flex-wrap items-baseline gap-2"><span class="text-sm inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5">${p.venue}</span><span class="text-sm text-gray-500">${p.year}</span></div>
                <h3 class="mt-1 font-semibold text-lg">${p.title}</h3>
                <p class="text-sm text-gray-600 mt-1">${p.authors.join(', ')}</p>
                <div class="mt-3 flex items-center justify-between">
                  <div class="flex gap-2 flex-wrap">${(p.tags||[]).map(t=> `<span class="text-xs rounded-full bg-gray-100 px-2 py-0.5">${t}</span>`).join('')}</div>
                  <a href="${p.link}" class="text-sm inline-flex items-center gap-1 text-blue-600 hover:underline">PDF/é¡¹ç›® <i data-lucide="external-link" class="w-4 h-4"></i></a>
                </div>
              </li>
            `).join('')}
          </ol>
          <p class="text-xs text-gray-500 mt-4">ä¸Šæ–¹ä¸ºå±•ç¤ºç”¨å ä½æ¡ç›®ï¼›è¯·æ›¿æ¢ä¸ºçœŸå®è®ºæ–‡ã€é¡¹ç›®ä¸æµ·æŠ¥é“¾æ¥ã€‚</p>
        </section>
      `;
    }

    function renderContact(){
      const c = DATA.contact;
      return `
        <section class="py-10">
          <div class="flex items-center gap-2 mb-6"><i data-lucide="mail" class="w-5 h-5"></i><h2 class="text-2xl md:text-3xl font-bold">Contact Us</h2></div>
          <div class="grid md:grid-cols-[1.3fr_1fr] gap-6">
            <div class="card bg-white p-6">
              <h3 class="font-semibold">è”ç³»æ–¹å¼</h3>
              <ul class="mt-3 space-y-2 text-gray-700">
                <li class="flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4"></i>${c.location}</li>
                <li class="flex items-center gap-2"><i data-lucide="users" class="w-4 h-4"></i>QQç¾¤ : ${c.wechat}</li>
                <li class="flex items-center gap-2">
                  <i data-lucide="mail" class="w-4 h-4"></i>
                  <a class="hover:underline" href="mailto:jayhuang@std.uestc.edu.cn">jayhuang@std.uestc.edu.cn</a>
                </li>
                <li class="pl-6">
                  <a class="hover:underline" href="mailto:huang_rui@std.uestc.edu.cn">huang_rui@std.uestc.edu.cn</a>
                </li>
              </ul>
              <p class="mt-6 text-black text-base">
                <span class="font-bold text-red-600">æˆ‘ä»¬æœŸå¾…ä¸ä½ è”ç³»æˆ–ä½ çš„åŠ å…¥</span>ï¼Œæ¬¢è¿â€”â€”<br/>
                ğŸ’¡ å¯¹AIæ„Ÿå…´è¶£ã€å¸Œæœ›å…¥é—¨å­¦ä¹ çš„ä½å¹´çº§åŒå­¦<br/>
                ğŸ§‘â€ğŸ’» å¸Œæœ›è®¨è®ºäº¤æµçš„AIç ”ç©¶è€…<br/>
                ğŸ“ æœ‰å¿—äºåŠ å…¥AIç¤¾æ ¸å¿ƒå›¢é˜Ÿçš„åŒå­¦<br/>
                ğŸ† å¸Œæœ›ä¸æˆ‘ä»¬ä¸€èµ·åœ¨é¡¶å°–ä¼šè®®ä¸Šå‘è¡¨è®ºæ–‡çš„ä¼™ä¼´<br/>
                ğŸ¤ æœ‰æ„äº¤æµåˆä½œçš„ä¼ä¸šã€ç»„ç»‡<br/>
                ğŸ¤— ä»¥åŠæ‰€æœ‰çƒ­çˆ±AIçš„æœ‹å‹ä¸æ½œåœ¨çš„åˆä½œæœºä¼š!
              </p>
            </div>
            <div class="card bg-white p-0 overflow-hidden min-h-[430px] grid place-content-center"><img src="logos/QQGroup.png" alt="QQç¾¤äºŒç»´ç " class="w-full max-w-xs max-h-[920px]" /></div>
          </div>
        </section>
      `;
    }

    // â€”â€” è·¯ç”±ä¸æ¸²æŸ“å…¥å£ â€”â€”
    const state = {}; // æŒä¹…åŒ–ä¸€äº› UI çŠ¶æ€
    function render(){
      const route = parseHashRoute(location.hash);
      const app = document.getElementById('app');
      // é«˜äº®å¯¼èˆª
      $$('.nav-link').forEach(btn=> btn.classList.toggle('text-black', btn.dataset.nav===route));

      if(route==='home') app.innerHTML = renderHome(state);
      if(route==='events') app.innerHTML = renderEvents(state);
      if(route==='members') app.innerHTML = renderMembers(state);
      if(route==='partners') app.innerHTML = renderPartners(state);
      if(route==='pubs') app.innerHTML = renderPubs(state);
      if(route==='contact') app.innerHTML = renderContact(state);

      // è¡Œä¸ºç»‘å®š
      if(route==='home'){
        const sentinel = document.getElementById('feed-sentinel');
        const loadMore = document.getElementById('load-more');
        if(loadMore){ loadMore.onclick = ()=> { state.homeCount = Math.min((state.homeCount||6)+6, DATA.events.length); render(); } }
        if(sentinel){ const ob = new IntersectionObserver((entries)=>{ entries.forEach(en=>{ if(en.isIntersecting){ state.homeCount = Math.min((state.homeCount||6)+6, DATA.events.length); render(); } }); }, { rootMargin:'200px' }); ob.observe(sentinel); }
      }
      if(route==='events'){
        $$('#app .tab-btn').forEach(b=> b.onclick = ()=> { state.eventsFilter = b.dataset.tab; render(); });
      }
      if(route==='members'){
        const input = document.getElementById('member-search');
        if(input){ input.oninput = ()=>{
          const kw = input.value.trim().toLowerCase();
          const list = document.getElementById('core-list');
          const items = DATA.members.core.filter(m=> m.name.toLowerCase().includes(kw) || m.role.toLowerCase().includes(kw));
          list.innerHTML = items.map(m=> memberCard(m)).join('');
          iconify();
        } }
      }
      if(route==='pubs'){
        $$('#app .venue-btn').forEach(b=> b.onclick = ()=> { state.pubVenue = b.dataset.venue; render(); });
      }

      // æ¸²æŸ“å®Œæ›¿æ¢å›¾æ ‡
      iconify();
    }

    // é¡¶éƒ¨å¯¼èˆªç‚¹å‡»ï¼ˆhash è·³è½¬ï¼‰
    $$('.nav-link').forEach(btn=> btn.addEventListener('click', ()=> { location.hash = `/${btn.dataset.nav}`; }));
    window.addEventListener('hashchange', render);

    // åˆå§‹æ¸²æŸ“
    if(!location.hash) location.hash = '/home';
    render();

    // â€”â€” ç®€æ˜“æµ‹è¯•ç”¨ä¾‹ï¼ˆconsole.assertï¼‰ â€”â€”
    (function runTests(){
      try {
        console.assert(parseHashRoute('') === 'home', 'ç©º hash åº”å›åˆ° home');
        console.assert(parseHashRoute('#/events') === 'events', 'hash è§£æ events å¤±è´¥');
        console.assert(parseHashRoute('#/unknown') === 'home', 'æœªçŸ¥è·¯ç”±åº”å›é€€åˆ° home');
        console.assert(Array.isArray(DATA.events) && DATA.events.length > 0, 'events ä¸åº”ä¸ºç©º');
        // æŒ‰æ—¥æœŸæ’åºéªŒè¯
        const s = [...DATA.events].sort((a,b)=> new Date(b.date)-new Date(a.date));
        for(let i=1;i<s.length;i++){ console.assert(new Date(s[i-1].date) >= new Date(s[i].date), 'events æœªæŒ‰æ—¶é—´é™åº'); }
        // news å¿…é¡»æœ‰å°é¢
        DATA.events.forEach(e=> { if(e.type==='news') console.assert(!!e.cover, `News ç¼ºå°‘ cover: ${e.title}`); });
        // id å”¯ä¸€
        const ids = new Set();
        for(const e of DATA.events){ console.assert(!ids.has(e.id), `é‡å¤çš„äº‹ä»¶ id: ${e.id}`); ids.add(e.id); }
        // ç±»å‹åˆæ³•
        const okTypes = new Set(['news','event','talk','competition']);
        DATA.events.forEach(e=> console.assert(okTypes.has(e.type), `éæ³•äº‹ä»¶ç±»å‹: ${e.type}`));
        // æˆå‘˜å­—æ®µ
        DATA.members.founders.forEach(m=> { console.assert(!!m.name && !!m.role, 'åˆ›å§‹äººæ¡ç›®ç¼ºå°‘ name/role'); console.assert(/^https?:\/\//.test(m.avatar), `åˆ›å§‹äººå¤´åƒåº”ä¸º URL: ${m.name}`); });
        // å‘è¡¨å¹´ä»½æ•´æ•°
        DATA.publications.forEach(p=> console.assert(Number.isInteger(p.year), `å‘è¡¨å¹´ä»½åº”ä¸ºæ•´æ•°: ${p.title}`));
        console.log('âœ… è‡ªæµ‹é€šè¿‡');
      } catch(err){ console.error('âŒ è‡ªæµ‹å‡ºé”™', err); }
    })();
  </script>
</body>
</html>
